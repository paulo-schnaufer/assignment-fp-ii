TODO: Implementar estado e regras puras